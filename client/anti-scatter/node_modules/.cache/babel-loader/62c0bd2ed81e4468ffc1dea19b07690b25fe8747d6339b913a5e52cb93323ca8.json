{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/kevin/OneDrive/Documents/GitHub/Anti-Scatter/client/anti-scatter/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/kevin/OneDrive/Documents/GitHub/Anti-Scatter/client/anti-scatter/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/kevin/OneDrive/Documents/GitHub/Anti-Scatter/client/anti-scatter/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/kevin/OneDrive/Documents/GitHub/Anti-Scatter/client/anti-scatter/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/kevin/OneDrive/Documents/GitHub/Anti-Scatter/client/anti-scatter/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import axios from\"axios\";import{ToastContainer,toast}from\"react-toastify\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var navigate=useNavigate();var _useState=useState({email:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),inputValue=_useState2[0],setInputValue=_useState2[1];var email=inputValue.email,password=inputValue.password;var handleOnChange=function handleOnChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setInputValue(_objectSpread(_objectSpread({},inputValue),{},_defineProperty({},name,value)));};var handleError=function handleError(err){return toast.error(err,{position:\"bottom-left\"});};var handleSuccess=function handleSuccess(msg){return toast.success(msg,{position:\"bottom-left\"});};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var _yield$axios$post,data,success,message;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return axios.post(\"http://localhost:4000/login\",_objectSpread({},inputValue),{withCredentials:true});case 4:_yield$axios$post=_context.sent;data=_yield$axios$post.data;console.log(data);success=data.success,message=data.message;if(success){handleSuccess(message);setTimeout(function(){navigate(\"/\");},1000);}else{handleError(message);}_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](1);console.log(_context.t0);case 14:setInputValue(_objectSpread(_objectSpread({},inputValue),{},{email:\"\",password:\"\"}));case 15:case\"end\":return _context.stop();}},_callee,null,[[1,11]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"form_container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Login Account\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:email,placeholder:\"Enter your email\",onChange:handleOnChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:password,placeholder:\"Enter your password\",onChange:handleOnChange})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Already have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:\"Signup\"})]})]}),/*#__PURE__*/_jsx(ToastContainer,{})]});};export default Login;","map":{"version":3,"names":["React","useState","Link","useNavigate","axios","ToastContainer","toast","jsx","_jsx","jsxs","_jsxs","Login","navigate","_useState","email","password","_useState2","_slicedToArray","inputValue","setInputValue","handleOnChange","e","_e$target","target","name","value","_objectSpread","_defineProperty","handleError","err","error","position","handleSuccess","msg","success","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$axios$post","data","message","wrap","_callee$","_context","prev","next","preventDefault","post","withCredentials","sent","console","log","setTimeout","t0","stop","_x","apply","arguments","className","children","onSubmit","htmlFor","type","placeholder","onChange","to"],"sources":["C:/Users/kevin/OneDrive/Documents/GitHub/Anti-Scatter/client/anti-scatter/src/pages/Login.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\n\r\nconst Login = () => {\r\n    const navigate = useNavigate();\r\n    const [inputValue, setInputValue] = useState({\r\n        email: \"\",\r\n        password: \"\",\r\n    });\r\n    const { email, password } = inputValue;\r\n    const handleOnChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setInputValue({\r\n        ...inputValue,\r\n        [name]: value,\r\n        });\r\n    };\r\n\r\n    const handleError = (err) =>\r\n        toast.error(err, {\r\n        position: \"bottom-left\",\r\n        });\r\n    const handleSuccess = (msg) =>\r\n        toast.success(msg, {\r\n        position: \"bottom-left\",\r\n        });\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n        const { data } = await axios.post(\r\n            \"http://localhost:4000/login\",\r\n            {\r\n            ...inputValue,\r\n            },\r\n            { withCredentials: true }\r\n        );\r\n        console.log(data);\r\n        const { success, message } = data;\r\n        if (success) {\r\n            handleSuccess(message);\r\n            setTimeout(() => {\r\n            navigate(\"/\");\r\n            }, 1000);\r\n        } else {\r\n            handleError(message);\r\n        }\r\n        } catch (error) {\r\n        console.log(error);\r\n        }\r\n        setInputValue({\r\n        ...inputValue,\r\n        email: \"\",\r\n        password: \"\",\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div className=\"form_container\">\r\n        <h2>Login Account</h2>\r\n        <form onSubmit={handleSubmit}>\r\n            <div>\r\n            <label htmlFor=\"email\">Email</label>\r\n            <input\r\n                type=\"email\"\r\n                name=\"email\"\r\n                value={email}\r\n                placeholder=\"Enter your email\"\r\n                onChange={handleOnChange}\r\n            />\r\n            </div>\r\n            <div>\r\n            <label htmlFor=\"password\">Password</label>\r\n            <input\r\n                type=\"password\"\r\n                name=\"password\"\r\n                value={password}\r\n                placeholder=\"Enter your password\"\r\n                onChange={handleOnChange}\r\n            />\r\n            </div>\r\n            <button type=\"submit\">Submit</button>\r\n            <span>\r\n            Already have an account? <Link to={\"/signup\"}>Signup</Link>\r\n            </span>\r\n        </form>\r\n        <ToastContainer />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}